<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Speed Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        #result {
            margin-top: 20px;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <h1>Network Speed Test</h1>
    <button id="testSpeed">Test Speed</button>
    <div id="result"></div>

    <script>
        async function testNetworkSpeed() {
            const imageUrl = 'https://via.placeholder.com/1000000'; // 1MB placeholder image
            const startTime = performance.now();

            try {
                // Fetch the image
                const response = await fetch(imageUrl);
                const data = await response.blob(); // Convert response to Blob
                const endTime = performance.now();

                // Calculate the speed
                const fileSizeInBits = data.size * 8; // Convert bytes to bits
                const durationInSeconds = (endTime - startTime) / 1000; // Convert milliseconds to seconds
                const speedMbps = (fileSizeInBits / durationInSeconds / 1024 / 1024).toFixed(2); // Convert to Mbps

                document.getElementById('result').innerText = `Download Speed: ${speedMbps} Mbps`;
            } catch (error) {
                console.error('Error fetching the image:', error);
                document.getElementById('result').innerText = 'Error testing speed. Please try again.';
            }
        }

        document.getElementById('testSpeed').addEventListener('click', testNetworkSpeed);
    </script>
</body>
</html>
