<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internet Speed Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        #speedResult {
            font-size: 24px;
            margin-top: 20px;
            color: #4CAF50; /* Green color for the result */
        }
    </style>
</head>
<body>
    <h1>Check Your Internet Speed</h1>
    <button onclick="checkInternetSpeed()">Test Speed</button>
    <p id="speedResult"></p>

    <script>
        function checkInternetSpeed() {
            const image = new Image();
            const startTime = new Date().getTime();
            const imageSize = 4995374; // Size in bytes of the image (approx. 5MB)

            // Use a large public image URL for testing
            image.src = "https://www.gstatic.com/webp/gallery/1.jpg?cacheBuster=" + Math.random(); 
            
            image.onload = function () {
                const endTime = new Date().getTime();
                const duration = (endTime - startTime) / 1000; // Duration in seconds
                const bitsLoaded = imageSize * 8; // Convert bytes to bits
                const speedMbps = (bitsLoaded / duration / 1024 / 1024).toFixed(2); // Speed in Mbps

                // Display the result on the page
                document.getElementById("speedResult").innerText = `Your internet speed is ${speedMbps} Mbps`;
            };

            image.onerror = function () {
                document.getElementById("speedResult").innerText = "Error measuring speed. Please try again.";
            };
        }
    </script>
</body>
</html>
